<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:custom="http://manaty.net/custom"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="/layout/template.xhtml">

	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml" />
	</ui:define>

	<ui:define name="body">
		
		<custom:entityPopup id="searchInvoiceCategoryPopup"
			header="#{messages['invoiceCategory.panel']}"
			backingBean="#{invoiceCategoryBean}" dataModel="#{invoiceCategories}"
			searchField1Label="#{messages['invoiceCategory.code']}" searchField1="code"
			searchField2Label="#{messages['invoiceCategory.description']}"
			searchField2="description"
			column1Label="#{messages['invoiceCategory.code']}" column1="code"
			column2Label="#{messages['invoiceCategory.description']}"
			column2="description" filtersMap="#{invoiceCategoryBean.filters}">
			<!-- select link -->
			<a:commandLink value="#{messages['commons.select']}"
				reRender="formId" action="#{invoiceSubCategory.setInvoiceCategory(entity)}"
				oncomplete="Richfaces.hideModalPanel('searchInvoiceCategoryPopup')">
			</a:commandLink>
		</custom:entityPopup>

		<custom:entityPopup id="searchTaxPopup"
			header="#{messages['tax.panel']}"
			backingBean="#{taxBean}" dataModel="#{taxes}"
			searchField1Label="#{messages['tax.code']}" searchField1="code"
			searchField2Label="#{messages['tax.description']}"
			searchField2="description"
			column1Label="#{messages['tax.code']}" column1="code"
			column2Label="#{messages['tax.description']}"
			column2="description" filtersMap="#{taxBean.filters}">
			<!-- select link -->
			<a:commandLink value="#{messages['commons.select']}"
				reRender="formId" action="#{invoiceSubCategory.setTax(entity)}"
				oncomplete="Richfaces.hideModalPanel('searchTaxPopup')">
			</a:commandLink>
		</custom:entityPopup>

		<custom:formPanel edit="#{edit}" label="#{messages['invoiceSubCategory.panel']}" backingBean="#{invoiceSubCategoryBean}" entity="#{invoiceSubCategory}" >
   			<custom:formEntityField id="categorySelectId"
										label="#{messages['invoiceSubCategory.invoiceCategory']}" field="invoiceCategory"
										childField="code" required="true" popup="true"
										popupId="searchInvoiceCategoryPopup" />
   			<custom:formField label="#{messages['invoiceSubCategory.code']}" field="code" required="true" validateUnique="true" useConverter="false"/>
   			<custom:formField label="#{messages['invoiceSubCategory.description']}" field="description" required="true" useConverter="false" size="50" maxlength="50"/>
   			<custom:fieldset name="#{messages['invoiceSubCategory.accountingCode']}" columns="3">	
	   			<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField1']}" />
					</ui:define>
							<h:inputText rendered="#{edit}" id="accountingField1" value="#{invoiceSubCategoryBean.accountingCodeField1}" size="5" maxlength="5" required="true">
							</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField1}" style="font-weight:bold;"  />
					<ui:insert />
				</s:decorate>
	   			<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField2']}" />
					</ui:define>
							<h:inputText rendered="#{edit}" id="accountingField2" value="#{invoiceSubCategoryBean.accountingCodeField2}" size="8" maxlength="8" required="true">
							</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField2}" style="font-weight:bold;"  />
					<ui:insert />
				</s:decorate>
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField3']}" />
					</ui:define>
					<h:inputText rendered="#{edit}" id="accountingField3" value="#{invoiceSubCategoryBean.accountingCodeField3}" size="5" maxlength="5" required="true">
					</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField3}" style="font-weight:bold;"  />
					<ui:insert />
				</s:decorate>
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField4']}" />
					</ui:define>
					<h:inputText rendered="#{edit}" id="accountingField4" value="#{invoiceSubCategoryBean.accountingCodeField4}" size="3" maxlength="3" required="true">
					</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField4}" style="font-weight:bold;"  />
					<ui:insert />
				</s:decorate>
	   			<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField6']}" />
					</ui:define>
					<h:inputText rendered="#{edit}" id="accountingField6" value="#{invoiceSubCategoryBean.accountingCodeField6}" size="8" maxlength="8" required="true">
					</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField6}" style="font-weight:bold;"  />
					<ui:insert />
				</s:decorate>
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['invoiceSubCategory.accountingCodeField7']}" />
					</ui:define>
					<h:inputText rendered="#{edit}" id="accountingField7" value="#{invoiceSubCategoryBean.accountingCodeField7}" size="5" maxlength="5" required="true">
					</h:inputText>
					<h:outputText rendered="#{!edit}" value="#{invoiceSubCategoryBean.accountingCodeField7}" style="font-weight:bold;"  />
					<ui:insert/>
				</s:decorate>
   		</custom:fieldset>	
   			
   			<custom:formEntityField id="taxSelectId"
										label="#{messages['invoiceSubCategory.tax']}" field="tax"
										childField="code" required="true" popup="true"
										popupId="searchTaxPopup" />
		</custom:formPanel>

	</ui:define>

</ui:composition>
